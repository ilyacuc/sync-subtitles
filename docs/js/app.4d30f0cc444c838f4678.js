webpackJsonp([1],{NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("Gu7T"),a=n.n(r),o=n("//Fk"),i=n.n(o),c=n("GHDE");var l=1e3,s=function(e){var t=new FileReader;return new i.a(function(n,r){t.onerror=function(){t.abort(),r(new DOMException("Problem parsing input file."))},t.onload=function(){n(t.result)},t.readAsText(e)})};function u(e,t){e.forEach(function(e){var n=e.start,r=e.end;t.find(function(e){return n>=e.start-l&&n<=e.start+l&&r>=e.end-l&&r<=e.end+l})||t.push({start:n,end:r,text:""})}),t.sort(function(e,t){return e.start-t.start})}var d=[];var f=0,v=47297,m=void 0,g=[],p=void 0,w=!1,E=!1;function h(){g.length&&(E=!0,f=(new Date).getTime()-v,m=window.setInterval(x,1e3))}function b(){console.log("stop"),E=!1,window.clearInterval(m)}function x(){w=!1;var e=(new Date).getTime()-f,t=p.find(function(t){var n=t.start;return e>=n});console.log(e,v,t),t&&v!==t.start&&(v=t.start,w=!0,t.element.scrollIntoView({behavior:"smooth",block:"center"}),t.element.nextElementSibling.classList.add("active"))}document.getElementById("file").addEventListener("change",function(e){var t,n=[],r=[];e.target.files.length>=2?d=[].concat(a()(e.target.files)):(t=d).push.apply(t,a()(e.target.files)),d.length>=2&&s(d[0]).then(function(e){return n=Object(c.a)(e),s(d[1])}).then(function(e){r=Object(c.a)(e),u(n,r),u(r,n),console.log(n,r),function(e,t){var n=document.createDocumentFragment();e.forEach(function(e,r){var a=document.createElement("div");a.className="time",a.id="time_"+r,a.innerText=function(e){function t(e,t){return("00"+e).slice(-(t=t||2))}var n=e%1e3,r=(e=(e-n)/1e3)%60,a=(e=(e-r)/60)%60;return t((e-a)/60)+":"+t(a)+":"+t(r)+"."+t(n,3)}(e.start);var o=document.createElement("div");o.className="text",o.innerHTML="<span>"+e.text+"</span><span>"+t[r].text+"</span>",n.append(a,o),g.push({element:a,start:e.start})}),p=[].concat(g).reverse(),[].concat(a()(document.querySelectorAll(".text"))),document.getElementById("app").append(n),console.log(p)}(n,r)}),e.target.value=""}),document.getElementById("play").addEventListener("click",h),document.getElementById("pause").addEventListener("click",b),window.addEventListener("touchstart",function(){return w=!1}),window.addEventListener("scroll",function(e){if(!w){var t=E;console.log(e),E&&b();var n=p.find(function(e){var t=e.element.getBoundingClientRect().top;return t>0&&t<window.innerHeight/2});n&&(console.log(n),v=n.start,n.element.nextElementSibling.classList.add("active")),t&&h()}})}},["NHnr"]);
//# sourceMappingURL=app.4d30f0cc444c838f4678.js.map